<!DOCTYPE html>
<html lang="zh">
<head>

        <title>Android JNI和NDK学习(3)--Android.mk分析</title>
        <meta charset="utf-8" />
        <link href="http://commonq.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="CommonQ's Blog Full Atom Feed" />
        <link href="http://commonq.github.io/feeds/android.atom.xml" type="application/atom+xml" rel="alternate" title="CommonQ's Blog Categories Atom Feed" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="http://commonq.github.io/theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="http://commonq.github.io/theme/style.css" />
        <link rel="stylesheet" type="text/css" href="http://commonq.github.io/theme/pygment.css" />

        <script src="http://commonq.github.io/theme/js/libs/modernizr-2.6.2.min.js"></script>






</head>

<body id="index" class="home">


    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1><a href="http://commonq.github.io">CommonQ's Blog <strong></strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
             
              <ul class="columns">
                <li><a href="http://commonq.github.io">Home</a></li>

                  <li class="active"><a href="http://commonq.github.io/category/android.html">Android</a></li>
                  <li><a href="http://commonq.github.io/category/blog.html">Blog</a></li>
                  <li><a href="http://commonq.github.io/category/mood.html">Mood</a></li>

              </ul>
            </div>

<section id="content" class="body">

   <div class="row">
        <div class="eleven columns">


            <header>
              <h2 class="entry-title">
                <a href="http://commonq.github.io/Android_ndk_3.html" rel="bookmark"
                   title="Permalink to Android JNI和NDK学习(3)--Android.mk分析">Android JNI和NDK学习(3)--Android.mk分析</a></h2>
           
            </header>
            <footer class="post-info">
              <abbr class="published" title="2014-04-30T00:00:00">
                Wed 30 April 2014
              </abbr>
              <address class="vcard author">
                By <a class="url fn" href="http://commonq.github.io/author/commonq.html">CommonQ</a>
              </address>
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <h3>参数解析</h3>
<p>以刚才的<code>Android.mk</code>为例.</p>
<div class="highlight"><pre><span class="c"># Copyright (C) 2009 The Android Open Source Project</span>
<span class="c">#</span>
<span class="c"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c"># you may not use this file except in compliance with the License.</span>
<span class="c"># You may obtain a copy of the License at</span>
<span class="c">#</span>
<span class="c">#      http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c">#</span>
<span class="c"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c"># See the License for the specific language governing permissions and</span>
<span class="c"># limitations under the License.</span>
<span class="c">#</span>
<span class="nv">LOCAL_PATH</span> <span class="o">:=</span> <span class="k">$(</span>call my-dir<span class="k">)</span>

<span class="cp">include $(CLEAR_VARS)</span>

<span class="nv">LOCAL_MODULE</span>    <span class="o">:=</span> hello-jni
<span class="nv">LOCAL_SRC_FILES</span> <span class="o">:=</span> hello-jni.c

<span class="cp">include $(BUILD_SHARED_LIBRARY)</span>
</pre></div>


<p><strong>LOCAL_PATH := $(call my-dir)</strong></p>
<div class="highlight"><pre><span class="err">一个</span><span class="n">Android</span><span class="p">.</span><span class="n">mk</span> <span class="err">文件首先必须定义好</span><span class="n">LOCAL_PATH</span><span class="err">变量。它用于在开发树中查找源文件。在这个例子中，宏函数’</span><span class="n">my</span><span class="o">-</span><span class="n">dir</span><span class="err">’</span><span class="p">,</span> <span class="err">由编译系统提供，用于返回当前路径（即包含</span><span class="n">Android</span><span class="p">.</span><span class="n">mk</span> <span class="n">file</span><span class="err">文件的目录）。</span>
</pre></div>


<p><strong>include $( CLEAR_VARS)</strong></p>
<div class="highlight"><pre><span class="n">CLEAR_VARS</span><span class="err">由编译系统提供，指定让</span><span class="n">GNU</span> <span class="n">MAKEFILE</span><span class="err">为你清除许多</span><span class="n">LOCAL_XXX</span><span class="err">变量（例如</span> <span class="n">LOCAL_MODULE</span><span class="p">,</span> <span class="n">LOCAL_SRC_FILES</span><span class="p">,</span> <span class="n">LOCAL_STATIC_LIBRARIES</span><span class="p">,</span> <span class="err">等等</span><span class="p">...),</span> 
<span class="err">除</span><span class="n">LOCAL_PATH</span> <span class="err">。这是必要的，因为所有的编译控制文件都在同一个</span><span class="n">GNU</span> <span class="n">MAKE</span><span class="err">执行环境中，所有的变量都是全局的。</span>
</pre></div>


<p><strong>LOCAL_MODULE := hello-jni</strong></p>
<div class="highlight"><pre><span class="err">编译的目标对象，</span><span class="n">LOCAL_MODULE</span><span class="err">变量必须定义，以标识你在</span><span class="n">Android</span><span class="p">.</span><span class="n">mk</span><span class="err">文件中描述的每个模块。名称必须是唯一的，而且不包含任何空格。</span>

<span class="err">注意：编译系统会自动产生合适的前缀和后缀，换句话说，一个被命名为&#39;</span><span class="n">hello</span><span class="o">-</span><span class="n">jni</span><span class="err">&#39;的共享库模块，将会生成&#39;</span><span class="n">libhello</span><span class="o">-</span><span class="n">jni</span><span class="p">.</span><span class="n">so</span><span class="err">&#39;文件。</span>

<span class="err">重要注意事项：</span>

<span class="err">如果你把库命名为‘</span><span class="n">libhello</span><span class="o">-</span><span class="n">jni</span><span class="err">’，编译系统将不会添加任何的</span><span class="n">lib</span><span class="err">前缀，也会生成</span> <span class="err">&#39;</span><span class="n">libhello</span><span class="o">-</span><span class="n">jni</span><span class="p">.</span><span class="n">so</span><span class="err">&#39;，这是为了支持来源于</span><span class="n">Android</span><span class="err">平台的源代码的</span><span class="n">Android</span><span class="p">.</span><span class="n">mk</span><span class="err">文件，如果你确实需要这么做的话。</span>
</pre></div>


<p><strong>LOCAL_SRC_FILES := hello-jni.c</strong></p>
<div class="highlight"><pre><span class="n">LOCAL_SRC_FILES</span><span class="err">变量必须包含将要编译打包进模块中的</span><span class="n">C</span><span class="err">或</span><span class="n">C</span><span class="o">++</span><span class="err">源代码文件。注意，你不用在这里列出头文件和包含文件，因为编译系统将会自动为你找出依赖型的文件；仅仅列出直接传递给编译器的源代码文件就好。</span>

<span class="err">注意，默认的</span><span class="n">C</span><span class="o">++</span><span class="err">源码文件的扩展名是’</span><span class="p">.</span><span class="n">cpp</span><span class="err">’</span><span class="p">.</span> <span class="err">指定一个不同的扩展名也是可能的，只要定义</span><span class="n">LOCAL_DEFAULT_CPP_EXTENSION</span><span class="err">变量，不要忘记开始的小圆点（也就是’</span><span class="p">.</span><span class="n">cxx</span><span class="err">’</span><span class="p">,</span><span class="err">而不是’</span><span class="n">cxx</span><span class="err">’）</span>
</pre></div>


<p><strong>include $(BUILD_SHARED_LIBRARY)</strong></p>
<div class="highlight"><pre><span class="n">BUILD_SHARED_LIBRARY</span><span class="err">表示编译生成共享库，是编译系统提供的变量，指向一个</span><span class="n">GNU</span> <span class="n">Makefile</span><span class="err">脚本，负责收集自从上次调用&#39;</span><span class="n">include</span> <span class="err">$</span><span class="p">(</span><span class="n">CLEAR_VARS</span><span class="p">)</span><span class="err">&#39;以来，定义在</span><span class="n">LOCAL_XXX</span><span class="err">变量中的所有信息，并且决定编译什么，如何正确地去做。还有</span> <span class="n">BUILD_STATIC_LIBRARY</span><span class="err">变量表示生成静态库：</span><span class="n">lib</span><span class="err">$</span><span class="p">(</span><span class="n">LOCAL_MODULE</span><span class="p">).</span><span class="n">a</span><span class="err">，</span> <span class="n">BUILD_EXECUTABLE</span> <span class="err">表示生成可执行文件。</span>
</pre></div>


<p>在这里详细叙述一下Android.mk语法规范</p>
<h3>Android.mk文件的用途</h3>
<p>一个android子项目中会存在一个或多个Android.mk文件 <br />
<strong>1、单一的Android.mk文件 </strong><br />
直接参考NDK的sample目录下的hello-jni项目，在这个项目中只有一个Android.mk文件 <br />
<strong>2、多个Android.mk文件   </strong>
如果需要编译的模块比较多，我们可能会将对应的模块放置在相应的目录中， 
这样，我们可以在每个目录中定义对应的Android.mk文件（类似于上面的写法）， 
最后，在根目录放置一个Android.mk文件，内容如下： </p>
<div class="highlight"><pre><span class="n">include</span> <span class="err">$</span><span class="p">(</span><span class="n">call</span> <span class="n">all</span><span class="o">-</span><span class="n">subdir</span><span class="o">-</span><span class="n">makefiles</span><span class="p">)</span> 
</pre></div>


<p>只需要这一行就可以了，它的作用就是包含所有子目录中的Android.mk文件  <br />
<strong>3、多个模块共用一个Android.mk </strong><br />
这个文件允许你将源文件组织成模块，这个模块中含有： <br />
  -静态库(.a文件) <br />
  -动态库(.so文件) <br />
只有共享库才能被安装/复制到您的应用软件（APK）包中 <br />
<code>include $(BUILD_STATIC_LIBRARY)</code>，编译出的是静态库 <br />
<code>include $(BUILD_SHARED_LIBRARY)</code>，编译出的是动态库   </p>
<h3>自定义变量</h3>
<p>以下是在 Android.mk中依赖或定义的变量列表，可以定义其他变量为自己使用，但是NDK编译系统保留下列变量名：<br />
-以 LOCAL_开头的名字（例如 LOCAL_MODULE） <br />
-以 PRIVATE_, NDK_ 或 APP_开头的名字（内部使用） <br />
-小写名字（内部使用，例如‘my-dir’） <br />
如果为了方便在 Android.mk 中定义自己的变量，建议使用 MY_前缀，一个小例子： </p>
<div class="highlight"><pre><span class="n">MY_SOURCES</span> <span class="o">:=</span> <span class="n">foo1</span><span class="p">.</span><span class="n">c</span> 
<span class="n">ifneq</span> <span class="p">(</span><span class="err">$</span><span class="p">(</span><span class="n">MY_CONFIG_BAR</span><span class="p">),)</span> 
<span class="n">MY_SOURCES</span> <span class="o">+=</span> <span class="n">bar</span><span class="p">.</span><span class="n">c</span> 
<span class="n">endif</span> 
<span class="n">LOCAL_SRC_FILES</span> <span class="o">+=</span> <span class="err">$</span><span class="p">(</span><span class="n">MY_SOURCES</span><span class="p">)</span> 
</pre></div>


<p>注意：‘:=’是赋值的意思；'+='是追加的意思；‘$’表示引用某变量的值。 </p>
<h3>GNU Make系统变量</h3>
<p>这些 GNU Make变量在你的 Android.mk 文件解析之前，就由编译系统定义好了。注意在某些情况下，NDK可能分析 Android.mk 几次，每一次某些变量的定义会有不同。   </p>
<ol>
<li>
<p>CLEAR_VALS<br />
指向一个编译脚本，几乎所有未定义的 LOCAL_XXX 变量都在"Module-description"节中列出。必须在开始一个新模块之前包含这个脚本：include$(CLEAR_VARS)，用于重置除LOCAL_PATH变量外的，所有LOCAL_XXX系列变量</p>
</li>
<li>
<p>BUILD_SHARED_LIBRARY:<br />
指向编译脚本，根据所有的在 LOCAL_XXX 变量把列出的源代码文件编译成一个共享库。 <br />
注意，必须至少在包含这个文件之前定义 LOCAL_MODULE 和 LOCAL_SRC_FILES。   </p>
</li>
<li>
<p>BUILD_STATIC_LIBRARY: <br />
一个 BUILD_SHARED_LIBRARY 变量用于编译一个静态库。静态库不会复制到的APK包中，但是能够用于编译共享库。 
示例：include $(BUILD_STATIC_LIBRARY) 
注意，这将会生成一个名为 lib$(LOCAL_MODULE).a 的文件 </p>
</li>
<li>TARGET_ARCH: 目标 CPU平台的名字 </li>
<li>TARGET_PLATFORM: Android.mk 解析的时候，目标 Android 平台的名字.详情可考/development/ndk/docs/stable- apis.txt. 
       android-3 -&gt; Official Android 1.5 system images 
       android-4 -&gt; Official Android 1.6 system images 
       android-5 -&gt; Official Android 2.0 system images </li>
<li>TARGET_ARCH_ABI:  暂时只支持两个 value，armeabi 和 armeabi-v7a。。 </li>
<li>TARGET_ABI: 目标平台和 ABI 的组合， </li>
</ol>
<h3>模块描述变量</h3>
<p>下面的变量用于向编译系统描述你的模块。应该定义在'include  $(CLEAR_VARS)'和'include $(BUILD_XXXXX)'之间。$(CLEAR_VARS)是一个脚本，清除所有这些变量。   </p>
<ol>
<li>LOCAL_PATH:  这个变量用于给出当前文件的路径。
       必须在 Android.mk 的开头定义，可以这样使用：LOCAL_PATH := $(call my-dir) 
       如当前目录下有个文件夹名称 src，则可以这样写 $(call src)，那么就会得到 src 目录的完整路径 
       这个变量不会被$(CLEAR_VARS)清除，因此每个 Android.mk 只需要定义一次(即使在一个文件中定义了几个模块的情况下)。 </li>
<li>LOCAL_MODULE: 这是模块的名字，它必须是唯一的，而且不能包含空格。 
       必须在包含任一的$(BUILD_XXXX)脚本之前定义它。模块的名字决定了生成文件的名字。 </li>
<li>LOCAL_SRC_FILES:  这是要编译的源代码文件列表。 
       只要列出要传递给编译器的文件，因为编译系统自动计算依赖。注意源代码文件名称都是相对于 LOCAL_PATH的，你可以使用路径部分，例如： 
        LOCAL_SRC_FILES := foo.c toto/bar.c\ 
        Hello.c 
       文件之间可以用空格或Tab键进行分割,换行请用"\" 
       如果是追加源代码文件的话，请用LOCAL_SRC_FILES += 
       注意：可以LOCAL_SRC_FILES := $(call all-subdir-java-files)这种形式来包含local_path目录下的所有java文件。 </li>
<li>LOCAL_C_INCLUDES:  可选变量，表示头文件的搜索路径。 
        默认的头文件的搜索路径是LOCAL_PATH目录。 </li>
<li>LOCAL_STATIC_LIBRARIES: 表示该模块需要使用哪些静态库，以便在编译时进行链接。 </li>
<li>LOCAL_SHARED_LIBRARIES:  表示模块在运行时要依赖的共享库（动态库），在链接时就需要，以便在生成文件时嵌入其相应的信息。 
       注意：它不会附加列出的模块到编译图，也就是仍然需要在Application.mk 中把它们添加到程序要求的模块中。 </li>
<li>LOCAL_LDLIBS:  编译模块时要使用的附加的链接器选项。这对于使用‘-l’前缀传递指定库的名字是有用的。 
       例如，LOCAL_LDLIBS := -lz表示告诉链接器生成的模块要在加载时刻链接到/system/lib/libz.so 
       可查看 docs/STABLE-APIS.TXT 获取使用 NDK发行版能链接到的开放的系统库列表。 </li>
<li>LOCAL_MODULE_PATH 和 LOCAL_UNSTRIPPED_PATH 
       在 Android.mk 文件中， 还可以用LOCAL_MODULE_PATH 和LOCAL_UNSTRIPPED_PATH指定最后的目标安装路径. 
       不同的文件系统路径用以下的宏进行选择： 
       TARGET_ROOT_OUT：表示根文件系统。 
       TARGET_OUT：表示 system文件系统。 
       TARGET_OUT_DATA：表示 data文件系统。 
       用法如：LOCAL_MODULE_PATH :=$(TARGET_ROOT_OUT) 
       至于LOCAL_MODULE_PATH 和LOCAL_UNSTRIPPED_PATH的区别，暂时还不清楚。 </li>
<li>LOCAL_JNI_SHARED_LIBRARIES：定义了要包含的so库文件的名字，如果程序没有采用jni，不需要 
        LOCAL_JNI_SHARED_LIBRARIES := libxxx 这样在编译的时候，NDK自动会把这个libxxx打包进apk； 放在youapk/lib/目录下 </li>
</ol>
<h3>NDK提供的函数宏</h3>
<p>GNU Make函数宏，必须通过使用'$(call  )'来调用，返回值是文本化的信息。   </p>
<ol>
<li>my-dir:返回当前 Android.mk 所在的目录的路径，相对于 NDK 编译系统的顶层。这是有用的，在 Android.mk 文件的开头如此定义： 
        LOCAL_PATH := $(call my-dir) </li>
<li>all-subdir-makefiles: 返回一个位于当前'my-dir'路径的子目录中的所有Android.mk的列表。 
       例如，某一子项目的目录层次如下： 
            src/foo/Android.mk 
            src/foo/lib1/Android.mk 
            src/foo/lib2/Android.mk 
      如果 src/foo/Android.mk 包含一行： 
           include $(call all-subdir-makefiles) 
      那么它就会自动包含 src/foo/lib1/Android.mk 和 src/foo/lib2/Android.mk。 
      这项功能用于向编译系统提供深层次嵌套的代码目录层次。 
      注意，在默认情况下，NDK 将会只搜索在 src/*/Android.mk 中的文件。 </li>
<li>this-makefile:  返回当前Makefile 的路径(即这个函数调用的地方) </li>
<li>parent-makefile:  返回调用树中父 Makefile 路径。即包含当前Makefile的Makefile 路径。 </li>
<li>grand-parent-makefile：返回调用树中父Makefile的父Makefile的路径 </li>
</ol>
<h3>Android.mk示例</h3>
<div class="highlight"><pre><span class="c">#编译静态库  </span>
<span class="nv">LOCAL_PATH</span> <span class="o">:=</span> <span class="k">$(</span>call my-dir<span class="k">)</span>  
<span class="cp">include $(CLEAR_VARS)  </span>
<span class="nv">LOCAL_MODULE</span> <span class="o">=</span> libhellos  
<span class="nv">LOCAL_CFLAGS</span> <span class="o">=</span> <span class="k">$(</span>L_CFLAGS<span class="k">)</span>  
<span class="nv">LOCAL_SRC_FILES</span> <span class="o">=</span> hellos.c  
<span class="nv">LOCAL_C_INCLUDES</span> <span class="o">=</span> <span class="k">$(</span>INCLUDES<span class="k">)</span>  
<span class="nv">LOCAL_SHARED_LIBRARIES</span> <span class="o">:=</span> libcutils  
<span class="nv">LOCAL_COPY_HEADERS_TO</span> <span class="o">:=</span> libhellos  
<span class="nv">LOCAL_COPY_HEADERS</span> <span class="o">:=</span> hellos.h  
<span class="cp">include $(BUILD_STATIC_LIBRARY)  </span>

<span class="c">#编译动态库  </span>
<span class="nv">LOCAL_PATH</span> <span class="o">:=</span> <span class="k">$(</span>call my-dir<span class="k">)</span>  
<span class="cp">include $(CLEAR_VARS) </span>
<span class="nv">LOCAL_MODULE</span> <span class="o">=</span> libhellod 
<span class="nv">LOCAL_CFLAGS</span> <span class="o">=</span> <span class="k">$(</span>L_CFLAGS<span class="k">)</span> 
<span class="nv">LOCAL_SRC_FILES</span> <span class="o">=</span> hellod.c 
<span class="nv">LOCAL_C_INCLUDES</span> <span class="o">=</span> <span class="k">$(</span>INCLUDES<span class="k">)</span> 
<span class="nv">LOCAL_SHARED_LIBRARIES</span> <span class="o">:=</span> libcutils 
<span class="nv">LOCAL_COPY_HEADERS_TO</span> <span class="o">:=</span> libhellod 
<span class="nv">LOCAL_COPY_HEADERS</span> <span class="o">:=</span> hellod.h 
<span class="cp">include $(BUILD_SHARED_LIBRARY) </span>
</pre></div>
            </div><!-- /.entry-content -->
            <div class="comments">
              <h3>Comments</h3>
              <div id="disqus_thread"></div>
              <script type="text/javascript">
                var disqus_identifier = "Android_ndk_3.html";
                (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://commonq.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
              </script>
            </div>


        </div><!-- /.eleven.columns -->
        
<div class="three columns">

<h4>Pages</h4>

 <ul>
        <li class="active"><a href="http://commonq.github.io/category/android.html">Android</a></li>
        <li><a href="http://commonq.github.io/category/blog.html">Blog</a></li>
        <li><a href="http://commonq.github.io/category/mood.html">Mood</a></li>
  </ul>

<h4>Categories</h4>
<ul>
		<li><a href="http://commonq.github.io/category/android.html">Android</a></li>
		<li><a href="http://commonq.github.io/category/blog.html">Blog</a></li>
		<li><a href="http://commonq.github.io/category/mood.html">Mood</a></li>
</ul>


<h4>Tags</h4>
	<ul>
	    <li class="tag-4"><a href="http://commonq.github.io/tag/mood.html">Mood</a></li>
	    <li class="tag-1"><a href="http://commonq.github.io/tag/ndk.html">NDK</a></li>
	    <li class="tag-2"><a href="http://commonq.github.io/tag/blog.html">Blog</a></li>
	    <li class="tag-1"><a href="http://commonq.github.io/tag/android.html">Android</a></li>
	    <li class="tag-4"><a href="http://commonq.github.io/tag/github.html">Github</a></li>
	    <li class="tag-4"><a href="http://commonq.github.io/tag/linux.html">Linux</a></li>
	    <li class="tag-4"><a href="http://commonq.github.io/tag/pelican.html">Pelican</a></li>
</ul>


<nav class="widget">
  <h4>Social</h4>
  <ul>
    <li><a href="https://github.com/CommonQ">Github</a></li>
    <li><a href="http://weibo.com/u/1239942131">新浪微博</a></li>
  </ul>
</nav>

</div> </div><!-- /.row -->


</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">

    
        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">

                <li><div class="btn primary"><a href="https://github.com/CommonQ/commonq.github.io" target="_blank">Github</a></div></li>




              </ul>
            </div>
          </div>
        </footer>

    </div>


<script type="text/javascript">
    var disqus_shortname = 'commonq';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
  <script src="http://commonq.github.io/theme/js/libs/jquery-1.9.1.min.js"></script>
  <script src="http://commonq.github.io/theme/js/libs/gumby.min.js"></script>
  <script src="http://commonq.github.io/theme/js/plugins.js"></script>
</body>
</html>